<div id="this-carousel-id" class="carousel slide"><!-- class of slide for animation -->

  <ol class="carousel-indicators">
    <% if (!@ad) %> 
      <li data-target="#this-carousel-id" data-slide-to="0" class="active"></li>
    <% else %>
      <% @ad["products"].each_with_index do |product, index| %>
        <li data-target="#this-carousel-id" data-slide-to=<%= index.to_s %>></li>
      <% end %>
    <% end %>  
  </ol>


  <div class="carousel-inner">
    <% if (!@ad) %>
      <div class="item active"><!-- class of active since it's the first item -->
        <img src="http://placehold.it/400x400" alt="" />
        <div class="carousel-caption">
          <h4>Random Product Ad<h4>
          <p>Price</p>
        </div>
      </div>
    <% else %>
      <% @ad["products"].each_with_index do |product, index| %>
        <% if (index == 0) %>
          <div class="item active"><!-- class of active since it's the first item -->
            <img src=<%= product["image_url"] %> alt="" />
            <div class="carousel-caption">
              <h4><%= product["name"] %><h4>
              <p>$<%= product["discounted_price"] %></p>
            </div>
          </div>
        <% else %>
          <div class="item"><!-- class of active since it's the first item -->
            <img src=<%= product["image_url"] %> alt="" />
            <div class="carousel-caption">
              <h4><%= product["name"] %><h4>
              <p>$<%= product["discounted_price"] %></p>
            </div>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div><!-- /.carousel-inner -->

  <!--  Next and Previous controls below
        href values must reference the id for this carousel -->
    <a class="carousel-control left" href="#this-carousel-id" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="carousel-control right" href="#this-carousel-id" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
</div><!-- /.carousel -->

<script>
  $(document).ready(function(){
    $('.carousel').carousel();
  });
</script>
